# AI-With-You ğŸ¤–  
**AI-Assisted Repository Setup, Testing & Human-in-the-Loop Code Review using Motia**

---

## ğŸ“Œ Overview

**AI-With-You** is a backend automation system built using **Motia workflows** that helps developers validate code changes inside an existing GitHub repository.

Instead of manually setting up projects, installing dependencies, and interpreting test failures, AI-With-You:

- Automatically sets up a repository  
- Runs real tests  
- Analyzes results  
- Provides AI-style feedback  
- Requires human approval before accepting risky changes  

The system demonstrates **safe AI-assisted automation**, where AI supports decisions but **never replaces human control**.

---

## â“ Problem Statement

In real-world development workflows, developers usually write or modify code inside existing repositories, not as isolated files.

However, validating those changes is still painful:

### Developers must manually:
- Set up the project  
- Install dependencies  
- Run tests  
- Understand failures  

### Automated CI systems often:
- Blindly fail without explanation  
- Or approve without context  

### AI tools may:
- Suggest changes without executing the code  
- Modify files without human consent  

This creates:
- Wasted time  
- Low trust in automation  
- Risky approvals  
- Poor developer experience  

---

## ğŸ’¡ Solution â€” AI-With-You

AI-With-You provides an **automated, workflow-driven validation pipeline** where:

- The repository is treated as the **source of truth**  
- Tests are executed in a **real environment**  
- AI assists in interpretation  
- **Humans retain final control**  

---

## ğŸ”„ How It Works (End-to-End Flow)

### 1ï¸âƒ£ User provides repository context
The user specifies:
- GitHub username  
- Repository name  

This represents the codebase containing the userâ€™s written or modified code.

---

### 2ï¸âƒ£ Automatic project setup
AI-With-You:
- Clones the repository  
- Installs dependencies automatically (`npm install`)  

---

### 3ï¸âƒ£ Automated test execution
- Runs the repositoryâ€™s test suite (`npm test`)  
- Captures real execution results and logs  

---

### 4ï¸âƒ£ AI-style review
- Test results are analyzed  
- AI determines whether the code is safe to approve  
- Issues and suggestions are generated if tests fail  

---

### 5ï¸âƒ£ Human-in-the-loop approval
- If tests fail â†’ approval is **blocked by default**  
- The user can explicitly approve if they decide it is acceptable  

---

### 6ï¸âƒ£ Final decision output
The system reports:
- Review summary  
- Issues (if any)  
- Approval status: `APPROVED` or `PENDING`  

---

## ğŸ” Core Design Principle

> **AI-With-You never auto-approves failing code.  
Humans always have the final say.**

This ensures:
- Safety over blind automation  
- Trust in AI-assisted systems  
- Clear accountability  

---

## ğŸ§  Why Repository-Level Validation (Important)

AI-With-You validates code at the **repository level**, not by uploading individual files.

### Why?
- In real workflows, code does not exist in isolation  
- Tests depend on the entire codebase  
- Auto-modifying files without full context is risky  

This approach mirrors real CI/CD systems (GitHub Actions, Jenkins, etc.), while adding **AI-assisted reasoning and human approval gates**.

### Future Extension
File-level uploads and AI-generated patches can be added **on top of this pipeline after human approval**.

---

## ğŸ—ï¸ Architecture (Motia-Based)

POST API
--->
ai-with-you.start (Event)
--->
ExecuteRepoTests

- Clone repo

- Install dependencies

- Run tests
--->
ai-with-you.tests.completed (Event)
--->
AIReviewStep
--->
ai-with-you.review.completed (Event)
--->
FinalResponseStep


---



---

## ğŸ“ Core Project Structure

src/
â”œâ”€â”€ hello/
â”‚ â””â”€â”€ hello-api.step.ts # API entry point
â”œâ”€â”€ steps/
â”‚ â”œâ”€â”€ execute-tests.step.js # Repo setup & test execution
â”‚ â”œâ”€â”€ ai-review.step.js # AI review logic
â”‚ â””â”€â”€ final-response.step.js # Final decision & logging
â”œâ”€â”€ ai_with_you_flow.ts # Motia workflow definition


Other files are auto-generated by Motia and development tools.

---


## âš™ï¸ Local Setup Instructions

### 1ï¸âƒ£ Prerequisites
- Node.js (v18+ recommended)  
- npm  
- Python 3.10+  
- Git  

---

### 2ï¸âƒ£ Clone the Repository

```bash
git clone https://github.com/sumaiya-13/AI-WITH-YOU.git
cd ai-with-you

---

 3ï¸âƒ£ Install Node Dependencies
npm install

---

 4ï¸âƒ£ Install Motia Python Environment
npx motia install

---

 5ï¸âƒ£ Start the Server
npx motia start
 
---


You should see:

 ğŸš€ Server ready and listening on port 3000
ğŸ”— Open http://0.0.0.0:3000 to open workbench

---


ğŸ§ª Example Test Cases
Endpoint
POST http://localhost:3000/hello

âœ… Test Case 1 â€” Default Review (No Manual Approval)
{
  "githubUsername": "sindresorhus",
  "repoName": "slugify"
}


Expected Result:

FINAL REVIEW SUMMARY: Automated tests failed
APPROVAL STATUS: PENDING

âœ… Test Case 2 â€” Human Approval Override
{
  "githubUsername": "sindresorhus",
  "repoName": "slugify",
  "userDecision": "YES"
}


Expected Result:

FINAL REVIEW SUMMARY: Automated tests failed
APPROVAL STATUS: APPROVED

âœ… Test Case 3 â€” Another Real Repository
{
  "githubUsername": "vercel",
  "repoName": "serve"
}


 Used to demonstrate:

- Real-world dependency complexity

- Safe AI behavior

- Human-in-the-loop control

---


ğŸ“Š Observability

- All steps are visible in:

     - Terminal logs

     - Motia Workbench

- Each execution has a unique trace

- Failures, retries, and approvals are transparent


---


ğŸ Hackathon Notes

- Built from scratch during the hackathon

- Uses Motiaâ€™s Steps, Events, and Workflows

- No UI required â€” backend execution is the demo

- Focus on correctness, safety, and orchestration


---


ğŸš€ Future Work

- File-level code uploads

- AI-generated patch suggestions

- Optional auto-merge after approval

- GitHub OAuth integration


---


ğŸ™Œ Conclusion

AI-With-You demonstrates how Motia can orchestrate real-world automation pipelines involving:

- Repository setup

- Test execution

- AI-assisted reasoning

- Human approval

It is a foundation for next-generation CI, AI code review systems, and safe developer tooling.
---